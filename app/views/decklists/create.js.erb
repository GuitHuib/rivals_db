var element = document.querySelector("#c_<%= j @card.id %> > .count")
var type = "<%= j @card.card_type %>".toLowerCase();
var first_type = type.replace(/,.*/, '')

/* add/increment card to appropriate field */
if (element) {
  num = parseInt(element.innerHTML)
  element.innerHTML = num + 1;
}
else if (type.includes("attack") || type.includes("defense")){
  $("#attack > .card-container").append("<%= escape_javascript(render 'decks/deckCard', card: @card, card_count: 1) %>")
}
else {
  $("#" + first_type + " > .card-container").append("<%= escape_javascript(render 'decks/deckCard', card: @card, card_count: 1) %>")
}
/* Increment main counter */
if (type.includes("attack") || type.includes("defense")) {
  var counter = $(`#attack-count`);
  var i = parseInt(counter.html())
  counter.html(i + 1);
}
else {
  var counter = $(`#${first_type}-count`)
  var i = parseInt(counter.html())
  counter.html(i + 1);
}
if (type != "character" && type != "aganda" && type != "haven") {
  var counter = $(`#library-count`)
  var i = parseInt(counter.html())
  counter.html(i + 1);
}
