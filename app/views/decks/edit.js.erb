var element = document.querySelector("#c_<%= j @card.id %> > .count");
var count = parseInt(element.innerHTML);
var type = "<%= j @card.card_type %>".toLowerCase();
var first_type = type.replace(/,.*/, '');

/* Decrement/remove card count */
if (count > 1){
  element.innerHTML = count - 1
}
else if (element){
  $("#c_<%= j @card.id %>").remove()
}
else {
  alert("You found an error! Let Ryan know how you broke his site!")
}
/* Decrement main counter */
if (count > 0) {
  if (type.includes("attack") || type.includes("defense")) {
    var counter = $("#attack-count")
    var i = parseInt(counter.html())
    counter.html(i - 1);
  }
  else {
    var counter = $(`#${first_type}-count`)
    var i = parseInt(counter.html())
    counter.html(i - 1);
  }
}
if (type != "character" && type != "aganda" && type != "haven") {
  var counter = $(`#library-count`)
  var i = parseInt(counter.html())
  counter.html(i - 1);
}
